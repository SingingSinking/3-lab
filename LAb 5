#include <iostream>
#include <ctime>
#include <iomanip>
#include <fstream>
#include <string>

// m = row = строки
// n = col = колонки
// 
//
//
//
//

using namespace std;
const int row = 5;
const int col = 4;
// Вывод очередной строки массива в поток
void outStroka(ostream& f, float S[], int n) 
{
	for (int j = 0; j < n; j++)
	{
		f << " " << setw(5) << setprecision(5) << S[j];
	}
	f << '\n';
} 
//Построчный вывод значений элементов массива на экран и в файл
void outArray(ostream& f, int m, int n, float Z[row][col])
{
	int i;
	cout << '\n';
	for (i = 0; i < m; i++)
		outStroka(cout, Z[i], n);
	cout << '\n';
	f << '\n';
	for (i = 0; i < m; i++)
		outStroka(f, Z[i], n);
	f << '\n';
}
//Ввод значений элементов массива
void inputArray(fstream& f, int m, int n, float Z[row][col])
{
	int i, j;
	for ( i = 0; i < m; i++)
	{
		for (j = 0; j < n; j++) {
			f >> Z[i][j];
		}
	}
}

int main()
{
	setlocale(LC_ALL, "ru");
	fstream f1;
	int i, j, t;
	float A[row][col];
	const int m = 5, n = 4, k = 2; //
	fstream f; f.open("input.txt", ios::in);
	if (f.bad()!= 0)
	{
		cout << "Error open file f input !!" << endl; return -1;
	}
	cout << "Входящий массив:" << endl;
	f1 << "Входящий массив:" << endl;
	inputArray(f, m, n, A);
	f.close();

	f1.open("out.txt", ios::out);
	if (f1.bad() != 0)
	{
		cout << "Error open file f1 out !!" << endl; return -1;
	}
	
	outArray(f1, m, n, A);
	f1.close();
	int max = 0;
	int ind = 0;
	int zamena = 0;
	for (i = 0; i < n; i++)
	{
		max = A[i][0];
		ind = 0;
		for (j = 1; j < n; j++)
			if (A[i][j] > max)
			{
				max = A[i][j];
				ind = j;
			}
		zamena = A[i][i];
		A[i][i] = A[i][ind];
		A[i][ind] = zamena;
	}
	//Вывод результата
	cout << endl << "Результат:" << endl;
	
	f1.open("out.txt", ios::out);
	if (f1.bad() != 0)
	{
		cout << "Error open file f1 out !!" << endl; return -1;
	}
	outArray(f1, m, n, A);
	f1.close();
	return 0;
}
